<h1>About</h1>
<p>課程名稱<span>: </span>電腦輔助設計與實習</p>
<p>組員<span>: </span>蔡逸誠、吳定穎、黃啟一、許明皓</p>
<p><span>Repo: <a href="https://github.com/41323147/cad2025">https://github.com/41323147/cad2025</a></span></p>
<p>群組網站<span>: <a href="https://41323147.github.io/cad2025_team/content/index.html">https://41323147.github.io/cad2025_team/content/index.html</a></span></p>
<p>課程評分<span>:</span></p>
<p>學習心得報告<span> (60%) - MS Teams </span>線上參與，<span>6</span>人一組每三週發表學習心得。</p>
<p><span>w3</span>、<span>w7</span>、<span>w10</span>、<span>w14</span>、<span>w17</span>、<span>w18</span></p>
<p>學習心得報告主題<span>:</span></p>
<p><span>w3: </span>用什麼套件完成<span> <a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a> </span>與<span> <a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a> </span>零組件設計繪圖？<span> <a href="https://solvespace.com/">Solvespace</a>, <a href="https://plm.sw.siemens.com/en-US/nx/cad-online/">Siemens NX</a>, <a href="https://www.onshape.com/en/">Onshape</a> </span>或其他？各有什麼優缺點？<span> (<a href="https://mde.tw/cad2025/downloads/plotter.7z">plotter.7z</a>, <a href="https://mde.tw/cad_demo/downloads/open_duck_mini.7z">open_duck_mini.7z</a>)</span></p>
<p><span>w7 (2a </span>採<span> Youtube </span>影片簡報<span>): <a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a> </span>與<span> <a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a> </span>零組件設計繪製完成之後，如何切割零件<span>? </span>為何要切割零件？ 如何利用<span> <a href="https://cyberbotics.com/">Webots</a> </span>進行後續的控制系統設計與動態模擬<span> (Dynamic Simulation)</span>？<span>(<a href="https://mde.tw/cad2025/downloads/plotter_project.7z">plotter_project.7z</a>)</span></p>
<p><span>w10: <a href="https://cyberbotics.com/">Webots</a> </span>是什麼？有什麼特點？ 如何進行場景模擬？ 如何用<span> Python </span>進行控制系統設計？<span> (<a href="https://cyberbotics.com/doc/guide/tutorials">Tutorial</a>)</span></p>
<p><span>w14: <a href="https://cyberbotics.com/">Webots</a> </span>的模型有沒有辦法用程式方法建立<span>? </span>有沒有辦法直接從<span> CAD </span>套件中轉出<span> <a href="https://cyberbotics.com/">Webots</a> </span>的場景模型？</p>
<p><span>w17: </span>如何實作一套<span> <a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a> </span>與<span> <a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a></span>？<span>(<a href="https://la.disneyresearch.com/publication/design-and-control-of-a-bipedal-robotic-character/">Disney Bipedal Robot</a>)</span></p>
<p><span>w18: </span>課程總結</p>
<p>個人與分組網站維護<span> (40%) - </span>每週至少兩次推送與課程進度相關的學習內容與心得。</p>
<p><span>w9 </span>期中自評、<span>w18 </span>期末自評</p>
<h1>w3</h1>
<p>用什麼套件完成<span> <a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a> </span>與<span> <a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a> </span>零組件設計繪圖？<span> <a href="https://solvespace.com/">Solvespace</a>, <a href="https://plm.sw.siemens.com/en-US/nx/cad-online/">Siemens NX</a>, <a href="https://www.onshape.com/en/">Onshape</a> </span>或其他？各有什麼優缺點？<span> (<a href="https://mde.tw/cad2025/downloads/plotter.7z">plotter.7z</a>, <a href="https://mde.tw/cad_demo/downloads/open_duck_mini.7z">open_duck_mini.7z</a>)<br/><br/>Ans:</span></p>
<p><br/><br/>軟體套件分析<span> :</span></p>
<p><span>Solvespace    </span>優點<span>:</span>適合快速建模且機構連桿模擬簡單適合基本連桿運動學分析。</p>
<p><span>                      </span>缺點<span>:</span>功能基礎且缺乏協作功能不適合多人專案和大型專案不友善。</p>
<p><span>Siemens NX   </span>優點<span>:CAD</span>、<span>CAE</span>、<span>CAM</span>整合功能完整，適合精密設計和高級組建管理。</p>
<p><span>                      </span>缺點<span>:</span>對於單純<span> 5-bar linkage</span>繪圖不是很合適，且不如雲端方便。</p>
<p><span>Onshape        </span>優點<span>:</span>支援多人協作和約束參數建模靈活方便測試不同設計，也可直接機構模擬和檢視路徑。</p>
<p><span>                      </span>缺點<span>:</span>高級<span>CAE</span>與渲染功能弱需搭配其他工具，而且隱私受限。</p>
<p>最後我們會選擇<span>Onshape</span>套件繪製<span>5-bar Linkage Plotter</span>的原因和考量<span> :</span></p>
<ol>
<li><span> </span>方便性<span>: </span>不需要安裝和方便雲端操作，可隨時修改操作。</li>
<li><span> </span>協作性<span>: </span>支援多人協作討論，版本清晰對於討論或展示非常實用。</li>
<li><span> </span>效率<span>: 5-bar linkage </span>主要是機構模擬，<span>Onshape </span>的約束與動畫功能剛好能滿足需求。</li>
</ol>
<p>我們使用Onshape繪製出plotclock(繪圖儀)<br/> 立體視圖:</p>
<p><img alt="" height="222" src="/images/2025-09-25_224038.png" width="468"/><img alt="" height="221" src="/images/2025-09-25_223903.png" width="467"/></p>
<p></p>
<h1>w7</h1>
<p><span>(2a 採 Youtube 影片簡報</span>):<span> </span><a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a><span> </span>與<span> </span><a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a> 零組件設計繪製完成之後，如何切割零件? 為何要切割零件？ 如何利用<span> </span><a href="https://cyberbotics.com/">Webots</a><span> </span>進行後續的控制系統設計與動態模擬 (Dynamic Simulation)？(<a href="https://mde.tw/cad2025/downloads/plotter_project.7z">plotter_project.7z</a>)</p>
<h2>5-bar Linkage Plotter 2</h2>
<p>如何切割:</p>
<p>   1.先建立整體設計草圖~且在同個Part Studio繪出完整機構，才能方便確認整體運動關係。</p>
<p>   2.確認分割位置~依據機構的運動需求和組配關係，決定從何分割零件避免重疊或出錯。</p>
<p>   3.使用Split Part功能~透過平面或實體作為基準，將原本模型機構分割成多個獨立零件，形成能獨立編輯零件。</p>
<p>   4.將各個零組件給予名稱方便後續組裝辨識。</p>
<p>   5.建立Assembly組裝檔~將分割後零件匯入並且進行裝配和模擬。 確認連趕能運動且不干涉。</p>
<p>為何要切:</p>
<p>   原因:1.能使結構清晰化方便修改和管理且模擬運動時需分開在Assembly中進行旋轉等運動模擬和分析 2.避免干涉錯誤可能在零件中有碰撞或過度干涉狀況發生須確保整體能順利運作 3.方便修改、若後續零件尺寸等不合需重新調整，能提高設計靈活度跟效率。</p>
<p><br/>控制系統設計與動態模擬:</p>
<p>   使用webots來後續的模擬與控制，Webots 是一款開源、多平台的機器人模擬軟體，專門用於機器人的建模、編程和動態模擬。</p>
<p>   使用webots以下節點進行模擬</p>
<ul>
<li>剛體（Solid）： 在 Webots 中，機器人和環境中的大部分物件都被定義為剛體 (<code>Solid</code><span> </span>Node)。動態模擬的基礎就是計算這些剛體在外力作用下的運動。需要為剛體定義其幾何形狀、碰撞範圍<span> </span>(<code>boundingObject</code>) 和物理特性<span> </span>(<code>physics</code><span> </span>節點)，例如質量、慣性矩、摩擦係數等。</li>
</ul>
<ul>
<li>關節（Joints）：<span> </span>機器人的各個部分之間通過關節 (<code>Joint</code><span> </span>Node) 連接，例如旋轉關節 (<code>HingeJoint</code>) 或線性關節 (<code>SliderJoint</code>)。這些關節限制了剛體之間的相對運動，是模擬機器人運動的關鍵。</li>
</ul>
<p>   以下是操作步驟：</p>
<p>   1.首先將所有零件獨立分開轉成stl檔</p>
<p><img caption="false" height="470" src="/images/w7-1.png" width="800"/></p>
<p>   2.在webots新建一個世界，在主節點robot下建立多個solid，並使用shape —&gt; mesh將零件stl檔案匯入</p>
<p><img caption="false" height="539" src="/images/w7-2.png" width="800"/></p>
<p>   3.找出連桿零件並命名為a1、a2、b1、b2，在robot主節點下建立hingjoint節點，將連桿的solid剪貼到<span>hingjoint的endpoint子節點</span></p>
<p style="text-align: left;"><span><img alt="" height="434" src="/images/w7-3.png" width="400"/></span></p>
<p>   4.五連桿的a2<span>、b2是被動桿，所以將a2<span>、b2整個剪貼到a1、b1的子節點下，這樣被動桿就會跟主動桿一起連動</span></span></p>
<p><img alt="" height="433" src="/images/w7-4.png" width="400"/></p>
<p>   5.因為五連桿機構是閉合的，所以在被動桿a2的子節點下新增hingjoint，並在endpoint新增solidreference閉合節點，將b2放入，這樣a2和b2就會進行連動</p>
<p><img alt="" height="433" src="/images/w7-5.png" width="400"/></p>
<h2>OpenDuck mini</h2>
<h4><br/><span>零件設計: 按照老師的圖檔加以修改。</span><br/><span></span></h4>
<p><span>如何切割:</span></p>
<p>   1.先建立整體設計草圖~且在同個Part Studio繪出完整機構，才能方便確認整體運動關係。</p>
<p>   2.確認分割位置~依據機構的運動需求和組配關係，決定從何分割零件避免重疊或出錯。</p>
<p>   3.使用Split Part功能~透過平面或實體作為基準，將原本模型機構分割成多個獨立零件，形成能獨立編輯零件。</p>
<p>   4.將各個零組件給予名稱方便後續組裝辨識。</p>
<p>   5.建立Assembly組裝檔~將分割後零件匯入並且進行裝配和模擬。 確認連趕能運動且不干涉。</p>
<p><span>為何要切:</span></p>
<p><span>   原因:1.能使結構清晰化方便修改和管理且模擬運動時需分開在Assembly中進行旋轉等運動模擬和分析 2.避免干涉錯誤可能在零件中有碰撞或過度干涉狀況發生須確保整體能順利運作 3.方便修改、若後續零件尺寸等不合需重新調整，能提高設計靈活度跟效率。</span><br/><span></span></p>
<p></p>
<p>控制系統設計與動態模擬 :我們使用webot來進行動態模擬，這是我們匯入的經過:</p>
<p>1.將機器人零組件轉成stl檔以便匯入webot<br/><img alt="" height="369" src="/images/螢幕擷取畫面 2025-10-30 201812.png" width="800"/></p>
<p>2.我們先在世界新增一個robot並且在children再接續新增Solid和Shape最後在裡面的mash把所匯出的stl檔案匯進url裡面<img alt="" height="449" src="/images/螢幕擷取畫面 2025-10-30 202430.png" width="800"/></p>
<p>3.由於我們在將零件檔匯入時遇到了機器人關節處需要將連動的零組件合成一個檔，且會發生零組件無法作動與移動，導致後續無法如期完成模擬，後續我們會持續完成並解決。</p>
<h1>w10</h1>
<p><span> </span><a href="https://cyberbotics.com/">Webots</a><span><span> </span>是什麼？有什麼特點？ 如何進行場景模擬？ 如何用 Python 進行控制系統設計？ (</span><a href="https://cyberbotics.com/doc/guide/tutorials">Tutorial</a><span>)</span></p>
<h3>w10問題解答</h3>
<h4>1.Webots是什麼？</h4>
<p>     webots是一款3D機器人仿真器，用於機器人建模、設計程式，且提供一個環境讓用戶能在虛擬世界模擬整個機器人動態連趕模擬。</p>
<h4>2.Webots的特點？</h4>
<p>   一.能夠免費開源和跨平台 二.能提供精確的剛體動力學和碰撞模擬，效果逼真。 三.豐富模型和設備，提供大量機器人模型和傳感器、執行器可自行導入。 四.提供多種語言讓使用者編寫程式 五.快速原型製作，提供環境讓使用者能快速建模、程式設計和測試模型系統。總結Webots是一個可免費在一個物理逼真、設備齊全和設計彈性高的虛擬世界，提供編寫程式和測試機器人系統模擬。</p>
<h4>3.如何進行場景模擬？</h4>
<p>  一. 場景建模包括 : 世界文件、節點 (如Solid、Floor、Shape、Robot)、層次結構以場景樹的形式組織、機器人配置如將所需傳感器和執行器作為子節點添加。</p>
<p> 二.控制器設計 : 1.編寫程式 :使用Python等語言，編寫控制機器人邏輯的控制器程式  2. APL交互 :控制器透過Webots APL讀取虛擬數據，並發送給虛擬馬達。</p>
<p> 三. 運行與交互 : 1.關聯控制器:在世界文件中將寫好的程式路徑只配給相對應的機器人節點。 2.啟動模擬:在介面中選擇時間步長，啟動仿真。 3.數據同步:時間步內。物理引擎計算世界狀態，且將傳感器數據傳輸給控制器；控制器執行邏輯後將新執行器指令傳回模擬器。</p>
<h4>4.如何用Python進行控制系統設計？</h4>
<h4>  一.控制器框架 : 1.導入與初始化:控制器導入controller模組  2.時間步長:定義並獲取time_step，控制循環刷新頻率  3.主循環:所有控制邏輯放在<code>while robot.step(time_step) != -1:</code> 的主循環中。</h4>
<p>from controller import Robot</p>
<p>1. 初始化機器人和時間步長<br/>robot = Robot()<br/>time_step = int(robot.getBasicTimeStep())</p>
<h4>  二.設備存取與配置 : 1.使用 <code>robot.getDevice</code> 獲取機器人模型中的傳感器或馬達 2.對於傳感器，須呼叫 <code>enable(time_step)</code> 方法來數據採集。</h4>
<p></p>
<p># 2. 獲取馬達 (執行器)<br/>left_motor = robot.getDevice('left wheel motor') <br/>right_motor = robot.getDevice('right wheel motor')</p>
<p>3. 獲取距離傳感器 (傳感器) 並啟用<br/>ps0 = robot.getDevice('ps0') <br/>ps0.enable(time_step)</p>
<h4>  三.編寫控制邏輯 : 1.主循環內使用設備實例的 <code>getValue()</code> 函數讀取最新的傳感器數據 2.決策與計算:根據傳感器數據計算所需的馬達控制量 3.發送指令:使用執行器的 API 方法如馬達的 <code>setVelocity()</code> 或 <code>setPosition()</code>）將控制信號發送給虛擬機器人。</h4>
<p></p>
<p># 4. 在主循環內執行控制邏輯<br/>while robot.step(time_step) != -1:<br/> # 讀取傳感器值<br/> distance = ps0.getValue()</p>
<p>簡單的向前移動邏輯<br/> max_speed = 6.28<br/> <br/> # 發送指令<br/> left_motor.setVelocity(max_speed)<br/> right_motor.setVelocity(max_speed)<br/> <br/> # (如果需要避障，則會在這裡加入條件判斷和速度調整)</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<p></p>
<h2>controllers控制器匯入示範</h2>
<p>1.首先在Webots創立的檔案中找到controllers，在裡面先建立資料夾，並放入.py文件</p>
<p><img alt="" height="556" src="/images/controllers.png" width="800"/></p>
<p>2.在Webots的Robot裡找到controller，點開可以找到剛創建的.py文件，就可以輸入python進行控制了</p>
<p><img alt="" height="425" src="/images/webots控制器選單.png" width="800"/></p>
<p>python模擬情形</p>
<p><img alt="" height="554" src="/images/5 bar 正方形.gif" width="800"/></p>
<h1>w14</h1>
<p><a href="https://cyberbotics.com/">Webots</a><span><span> </span>的模型有沒有辦法用程式方法建立? 有沒有辦法直接從 CAD 套件中轉出<span> </span></span><a href="https://cyberbotics.com/">Webots</a><span><span> </span>的場景模型？</span></p>
<h3>w14問題解答</h3>
<p>1.Webots模型能否用程式方法建立？</p>
<p>     Ans:是可以的，Webots有提供多種透過程式碼建立、修改或動態新增場景物件的機制。</p>
<p>   一.使用<span style="color: #ff0000;">Supervisor API</span>建立節點(Nodes) :Webots裡的所有場景元素都是以節點方式組織在場景樹中。</p>
<p>   二.使用幾何節點 :Webots 支援使用 <b>IndexedFaceSet</b> 節點來定義3D網格模型，雖然建立複雜網格座標和索引列表通常不是手寫的，但節點本身是 Webots 場景（.wbt 檔案）的一部分，可透過Supervisor API 進行操作。</p>
<p>     對於簡單幾何體 (如Box、Cylinder、Sphere)，我們可以程式化設定它們位址、大小和外觀。</p>
<p>   三.使用PROTO檔案 : PROTO是一種Webots專用機制，允許您建立可重複使用且參數化的自訂節點，基本上就是一種模板或模組。且還可透過文字編輯器手動編寫或修改 <code>.proto</code> 檔案來定義複雜物件或機器人，這也是一種程式化建立模型的方式。</p>
<p></p>
<p>2.<span>有沒有辦法直接從 CAD 套件中轉出webots</span><span>的場景模型？</span></p>
<p>    Ans:可以，但通常須經過一次轉換步驟，目前有分兩種方式 :</p>
<p>   一.針對機器人:步驟</p>
<ul>
<li>
<p data-path-to-node="19,0,1,0,0">在 SolidWorks 或 Fusion 360 中安裝 URDF Exporter 。</p>
</li>
<li>
<p data-path-to-node="19,0,1,1,0">匯出成一個 <code data-index-in-node="6" data-path-to-node="19,0,1,1,0">.urdf</code> 資料夾。</p>
</li>
<li>
<p data-path-to-node="19,0,1,2,0">使用 Webots 官方工具 <code data-index-in-node="15" data-path-to-node="19,0,1,2,0">urdf2webots</code> 將其轉換為 Webots 的 <code data-index-in-node="42" data-path-to-node="19,0,1,2,0">.proto</code> 格式。</p>
</li>
</ul>
<p>   二.針對靜態場景：步驟</p>
<ul>
<li>
<p data-path-to-node="22,0,1,0,0">從 CAD 軟體匯出為 <code data-index-in-node="12" data-path-to-node="22,0,1,0,0">.obj</code>或 <code data-index-in-node="34" data-path-to-node="22,0,1,0,0">.stl</code>。</p>
</li>
<li>
<p data-path-to-node="22,0,1,1,0">關鍵優化： 在進入 Webots 前，通常需要先進 Blender 進行減面（Decimate），因為 CAD 的原始模型面數過高，會導致模擬卡頓。</p>
</li>
<li>
<p data-path-to-node="22,0,1,2,0">在 Webots 中建立一個 <code data-index-in-node="15" data-path-to-node="22,0,1,2,0">Mesh</code> 節點，並指向該檔案。</p>
</li>
</ul>
<p></p>
<p>   三.雲端CAD轉換Onshape:</p>
<p>           能夠直接透過 API 抓取雲端模型並生成 Webots 檔案，是目前最全自動化的方案。</p>
<p></p>
<h1>w17</h1>
<p>5-bar Linkage Plotter<span>如何實作一套 </span><a href="https://youtu.be/iOLFP90DneY">5-bar Linkage Plotter</a><span><span> </span>與<span> </span></span><a href="https://mde.tw/cad2025/content/OpenDuck.html">Openduck mini</a><span>？(</span><a href="https://la.disneyresearch.com/publication/design-and-control-of-a-bipedal-robotic-character/">Disney Bipedal Robot</a><span>)</span><br/><br/><br/></p>
<h2>5-bar Linkage Plotter-2</h2>
<p></p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/o18N240QvvY?si=ZYJ35tkLlcsU_42p" title="YouTube video player" width="560"></iframe></p>
<p><br/><br/><br/><br/></p>
<p></p>
<p></p>
<p></p>
<p></p>
<h2>Openduck mini2</h2>
<p></p>
<p><br/><br/><img alt="" height="449" src="/images/螢幕擷取畫面 2025-12-25 194507.png" width="800"/></p>
<p><a href="/downloads/20251219 openduck.7z">/downloads/20251219 openduck.7z</a></p>
<h2>41171130</h2>
<h2>41323109</h2>
<h2>41313140</h2>
<p>Plotter_box 平面五軸繪圖機</p>
<p><span>個人網頁網址：<a href="https://41323140.github.io/cad2025_hw/content/Plotter_box%20%E5%B9%B3%E9%9D%A2%E4%BA%94%E8%BB%B8%E7%B9%AA%E5%9C%96%E6%A9%9F.html">https://41323140.github.io/cad2025_hw/content/Plotter_box%20%E5%B9%B3%E9%9D%A2%E4%BA%94%E8%BB%B8%E7%B9%AA%E5%9C%96%E6%A9%9F.html</a></span></p>
<p><span>plotter_box 製作過程影片：</span></p>
<p><span></span></p>
<p><span></span></p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/ABID4y1nOZE?si=weyCOaqERcehDe8K" title="YouTube video player" width="560"></iframe></p><h2>41323147</h2>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/m2byo9UwzGQ?si=7ylDGSix1YjdgvAh" title="YouTube video player" width="560"></iframe></p>
<p><span></span></p>
<p><span>製作這個五連桿時，原本還都不知道要怎麼做，但我花了時間去看了老師的教學影片並且去詢問老師後，現在我有能力去做出這項作品了，未來還有類似的課程，我一定會更加熟能生巧。</span></p>
<h1>w18</h1>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;"></span></p>